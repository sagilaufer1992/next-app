(this["webpackJsonpnext-app"]=this["webpackJsonpnext-app"]||[]).push([[0],{55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(12),i=n.n(s),r=(n(55),n(13)),o=(n(56),n.p+"static/media/Logo2.f9956a29.png"),l=(n(57),n(2));var j=function(){return Object(l.jsx)("div",{className:"header",children:Object(l.jsx)("img",{src:o,className:"logo",alt:"logo"})})},u=(n(59),n(26)),b=n.n(u);var d=function(e){var t=e.rows,n=e.className,c=b()("title",n);return t.map((function(e){return Object(l.jsx)("div",{className:c,children:e},e)}))},m=(n(60),n(106)),O=n(107),v=n(101);var f=function(e){var t=e.filterItems,n=e.setResult,a=Object(c.useCallback)((function(e){n(t(e.target.value))}),[t,n]);return Object(l.jsx)("div",{className:"search-input",children:Object(l.jsx)(m.a,{id:"input-with-icon-adornment",placeholder:"search",onChange:a,startAdornment:Object(l.jsx)(O.a,{position:"start",children:Object(l.jsx)(v.a,{children:"search"})})})})},x=n(45);n(65),n(66),n(67),n(68);var h=function(e){var t=e.rating,n=e.maxRating;return Object(l.jsxs)("div",{className:"rating-container",children:[Object(l.jsx)(v.a,{children:"star"}),Object(l.jsx)("div",{className:"rating-score",children:""===t?"none":p(t,n)})]})};function p(e,t){return t?"".concat(e,"/").concat(t):"".concat(e)}n(69);var g=n(102);var N=function(e){var t=e.text,n=e.icon,c=e.iconOnLeft,a=e.onClick,s=e.className,i=e.disabled,r=b()(s,"text-icon-button");return Object(l.jsx)(g.a,{variant:"outlined",color:"inherit",className:r,startIcon:c&&Object(l.jsx)(v.a,{children:n}),endIcon:!c&&Object(l.jsx)(v.a,{children:n}),onClick:a,disabled:i,children:t})};var k=function(e){var t=e.movie,n=e.selectMovie,a=t.title,s=t.image,i=t.rating,r=t.released,o=Object(c.useCallback)((function(){return n(t)}),[t,n]);return Object(l.jsxs)("div",{className:"movie-list-item",children:[Object(l.jsx)("img",{className:"movie-image",src:s,title:a,alt:a}),Object(l.jsxs)("div",{className:"movie-title",children:[a," (",r,")"]}),Object(l.jsx)(h,{rating:i}),Object(l.jsx)(N,{text:"Read More",icon:"arrow_right_alt",iconOnLeft:!1,onClick:o})]})};var w=function(e){var t=e.movies,n=e.selectMovie;return Object(l.jsx)("div",{className:"movie-list",children:null===t?"loading":t.map((function(e){return Object(l.jsx)(k,{movie:e,selectMovie:n},e.id)}))})},C=(n(70),n(105));var y=function(e){var t=e.movie,n=e.close,a=Object(c.useCallback)((function(){var e;window.open("https://www.imdb.com/title/"+(e=t,e.imdbid),"_blank").focus()}),[t]),s=Object(c.useCallback)((function(){alert("Downloading is not yet supported")}));if(!t)return null;var i,o=t.synopsis,j=t.title,u=t.largeimage,b=t.runtime,m=t.rating,O=t.imdbid,v=t.download,f=function(e){var t=/(\d*)h(\d*)m/,n=e.match(t),c=Object(r.a)(n,3),a=(c[0],c[1]),s=c[2];return[a,s]}(b),x=Object(r.a)(f,2),p=x[0],g=x[1],k="1"===v;return Object(l.jsx)(C.a,{open:!0,onClose:n,className:"modal-container",children:Object(l.jsxs)("div",{className:"movie-modal-content",children:[Object(l.jsx)("div",{className:"movie-left-region",children:Object(l.jsx)("img",{className:"movie-large-image",src:u,alt:j,title:j})}),Object(l.jsxs)("div",{className:"movie-right-region",children:[Object(l.jsxs)("div",{className:"movie-details",children:[Object(l.jsx)(d,{rows:[j]}),Object(l.jsx)(d,{rows:["".concat(p,"h ").concat(g,"min")],className:"small"}),Object(l.jsx)(h,{rating:m,maxRating:10}),Object(l.jsx)("div",{className:"synopsis",children:o}),Object(l.jsxs)("div",{className:"action-buttons",children:[(i=O,i.startsWith("tt")&&9===i.length&&Object(l.jsx)("div",{className:"imdb-link",children:Object(l.jsx)(N,{icon:"movie_filter",text:"View on IMDB",iconOnLeft:!0,onClick:a,className:"imdb-button"})})),Object(l.jsx)(N,{icon:"system_update_alt",text:"Download",iconOnLeft:!0,onClick:s,disabled:!k})]})]}),Object(l.jsx)(N,{icon:"keyboard_backspace",text:"Back To List",iconOnLeft:!0,onClick:n,className:"back-button"})]})]})})};var L=n(104),M=(n(71),n(103));var I=function(e){return e.movies,e.loading,Object(l.jsx)(C.a,{open:!0,className:"loading-modal",BackdropProps:{className:"loading-backdrop"},children:Object(l.jsxs)("div",{className:"progress-container",children:[Object(l.jsx)(d,{rows:["Loading..."]}),Object(l.jsx)(M.a,{className:"linear-progress"})]})})};var S=function(e){var t=e.movies,n=e.loading,a=Object(c.useState)(null),s=Object(r.a)(a,2),i=s[0],o=s[1],j=Object(c.useState)(1),u=Object(r.a)(j,2),b=u[0],d=u[1],m=Object(c.useState)([]),O=Object(r.a)(m,2),v=O[0],f=O[1],h=Object(c.useCallback)((function(){return o(null)}),[o]),p=Object(c.useCallback)((function(e,t){return d(t)}));Object(c.useEffect)((function(){d(1)}),[t]),Object(c.useEffect)((function(){t&&f(Object(x.a)(t).splice(6*(b-1),6))}),[b,t]);var g=t?Math.ceil(t.length/6):0;return Object(l.jsx)(l.Fragment,{children:n?Object(l.jsx)(I,{}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(w,{movies:v,selectMovie:o}),Object(l.jsx)(L.a,{count:g,page:b,onChange:p,className:"pagination"}),Object(l.jsx)(y,{movie:i,close:h})]})})},_=n(33),F=n.n(_),B=n(34),E=n(43),R=n(44),D=n.n(R);function T(){return(T=Object(E.a)(F.a.mark((function e(){var t,n,c,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D()("http://localhost:3000/movies",{method:"GET",accept:"application/json"});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,c=n.map((function(e){return Object(B.a)(Object(B.a)({},e),{},{synopsis:J(e.synopsis)})})),a=c.sort((function(e,t){return e.title.localeCompare(t.title)})),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=function(){return T.apply(this,arguments)};function J(e){return e.match(/(.*)(<br>.*)/)[1].replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&#39;/g,"'")}var q=["explore your next","movies and tv shows"];var A=function(){var e=Object(c.useState)(null),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(null),i=Object(r.a)(s,2),o=i[0],u=i[1],b=Object(c.useState)(!0),m=Object(r.a)(b,2),O=m[0],v=m[1],x=Object(c.useCallback)((function(e){return n.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())}))}),[n]);return Object(c.useEffect)((function(){P().then((function(e){a(e),u(e),v(!1)}))}),[]),Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)(j,{}),Object(l.jsx)(d,{rows:q}),Object(l.jsxs)("div",{className:"app-content",children:[Object(l.jsx)(f,{filterItems:x,setResult:u}),Object(l.jsx)(S,{movies:o,loading:O})]})]})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,108)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(l.jsxs)(a.a.StrictMode,{children:[Object(l.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),Object(l.jsx)(A,{})]}),document.getElementById("root")),G()}},[[73,1,2]]]);
//# sourceMappingURL=main.fd21040a.chunk.js.map