(this["webpackJsonpnext-app"]=this["webpackJsonpnext-app"]||[]).push([[0],{55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(12),s=n.n(i),o=(n(55),n(13)),r=(n(56),n.p+"static/media/Logo2.f9956a29.png"),l=(n(57),n(2));var j=function(){return Object(l.jsx)("div",{className:"header",children:Object(l.jsx)("img",{src:r,className:"logo",alt:"logo"})})},u=(n(59),n(26)),b=n.n(u);var d=function(e){var t=e.rows,n=e.className,c=b()("title",n);return t.map((function(e){return Object(l.jsx)("div",{className:c,children:e},e)}))},m=(n(60),n(106)),O=n(107),v=n(101);var f=function(e){var t=e.callback,n=Object(c.useCallback)((function(e){return t(e.target.value)}),[t]);return Object(l.jsx)("div",{className:"search-input",children:Object(l.jsx)(m.a,{id:"input-with-icon-adornment",placeholder:"search",onChange:n,startAdornment:Object(l.jsx)(O.a,{position:"start",children:Object(l.jsx)(v.a,{children:"search"})})})})},x=n(44);n(65),n(66),n(67),n(68);var h=function(e){var t=e.rating,n=e.maxRating;return Object(l.jsxs)("div",{className:"rating-container",children:[Object(l.jsx)(v.a,{children:"star"}),Object(l.jsx)("div",{className:"rating-score",children:""===t?"none":p(t,n)})]})};function p(e,t){return t?"".concat(e,"/").concat(t):"".concat(e)}n(69);var g=n(102);var N=function(e){var t=e.text,n=e.icon,c=e.iconOnLeft,a=e.onClick,i=e.className,s=e.disabled,o=b()(i,"text-icon-button");return Object(l.jsx)(g.a,{variant:"outlined",color:"inherit",className:o,startIcon:c&&Object(l.jsx)(v.a,{children:n}),endIcon:!c&&Object(l.jsx)(v.a,{children:n}),onClick:a,disabled:s,children:t})};var w=function(e){var t=e.movie,n=e.selectMovie,a=t.title,i=t.image,s=t.rating,o=t.released,r=Object(c.useCallback)((function(){return n(t)}),[t,n]);return Object(l.jsxs)("div",{className:"movie-list-item",children:[Object(l.jsx)("img",{className:"movie-image",src:i,title:a,alt:a}),Object(l.jsxs)("div",{className:"movie-title",children:[a," (",o,")"]}),Object(l.jsx)(h,{rating:s}),Object(l.jsx)(N,{text:"Read More",icon:"arrow_right_alt",iconOnLeft:!1,onClick:r})]})};var k=function(e){var t=e.movies,n=e.selectMovie;return Object(l.jsx)("div",{className:"movie-list",children:null===t?"loading":t.map((function(e){return Object(l.jsx)(w,{movie:e,selectMovie:n},e.id)}))})},C=(n(70),n(105));var y=function(e){var t=e.movie,n=e.close,a=e.downloadMovie,i=Object(c.useCallback)((function(){var e;window.open("https://www.imdb.com/title/"+(e=t,e.imdbid),"_blank").focus()}),[t]);if(!t)return null;var s,r=t.synopsis,j=t.title,u=t.largeimage,b=t.runtime,m=t.rating,O=t.imdbid,v=t.download,f=function(e){var t=/(\d*)h(\d*)m/,n=e.match(t),c=Object(o.a)(n,3),a=c[1],i=c[2];return[a,i]}(b),x=Object(o.a)(f,2),p=x[0],g=x[1],w="1"===v;return Object(l.jsx)(C.a,{open:!0,onClose:n,className:"modal-container",children:Object(l.jsxs)("div",{className:"movie-modal-content",children:[Object(l.jsx)("div",{className:"movie-left-region",children:Object(l.jsx)("img",{className:"movie-large-image",src:u,alt:j,title:j})}),Object(l.jsxs)("div",{className:"movie-right-region",children:[Object(l.jsxs)("div",{className:"movie-details",children:[Object(l.jsx)(d,{rows:[j]}),Object(l.jsx)(d,{rows:["".concat(p,"h ").concat(g,"min")],className:"small"}),Object(l.jsx)(h,{rating:m,maxRating:10}),Object(l.jsx)("div",{className:"synopsis",children:r}),Object(l.jsxs)("div",{className:"action-buttons",children:[(s=O,s.startsWith("tt")&&9===s.length&&Object(l.jsx)("div",{className:"imdb-link",children:Object(l.jsx)(N,{icon:"movie_filter",text:"View on IMDB",iconOnLeft:!0,onClick:i,className:"imdb-button"})})),Object(l.jsx)(N,{icon:"system_update_alt",text:"Download",iconOnLeft:!0,onClick:a,disabled:!w})]})]}),Object(l.jsx)(N,{icon:"keyboard_backspace",text:"Back To List",iconOnLeft:!0,onClick:n,className:"back-button"})]})]})})};var M=n(104),L=(n(71),n(103));var S=function(){return Object(l.jsx)(C.a,{open:!0,className:"loading-modal",BackdropProps:{className:"loading-backdrop"},children:Object(l.jsxs)("div",{className:"progress-container",children:[Object(l.jsx)(d,{rows:["Loading..."]}),Object(l.jsx)(L.a,{className:"linear-progress"})]})})};var P=function(e){var t=e.movies,n=e.loading,a=e.moviesPerPage,i=e.downloadMovie,s=Object(c.useState)(null),r=Object(o.a)(s,2),j=r[0],u=r[1],b=Object(c.useState)(1),d=Object(o.a)(b,2),m=d[0],O=d[1],v=Object(c.useState)([]),f=Object(o.a)(v,2),h=f[0],p=f[1],g=Object(c.useCallback)((function(){return u(null)}),[u]),N=Object(c.useCallback)((function(e,t){return O(t)}),[O]);Object(c.useEffect)((function(){O(1)}),[t]),Object(c.useEffect)((function(){t&&p(Object(x.a)(t).splice((m-1)*a,a))}),[m,t,a]);var w=t?Math.ceil(t.length/a):0;return Object(l.jsx)(l.Fragment,{children:n?Object(l.jsx)(S,{}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(k,{movies:h,selectMovie:u}),Object(l.jsx)(M.a,{count:w,page:m,onChange:N,className:"pagination"}),Object(l.jsx)(y,{movie:j,close:g,downloadMovie:i})]})})},_=n(33),E=n.n(_),F=n(34),I=n(42),B=n(43),D=n.n(B);function T(){return(T=Object(I.a)(E.a.mark((function e(){var t,n,c,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D()("http://localhost:3000/movies",{method:"GET",accept:"application/json"});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,c=n.map((function(e){return Object(F.a)(Object(F.a)({},e),{},{synopsis:J(e.synopsis),title:q(e.title)})})),a=c.sort((function(e,t){return e.title.localeCompare(t.title)})),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=function(){return T.apply(this,arguments)};function J(e){return q(e.match(/(.*)(<br>.*)/)[1])}function q(e){return e.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&#39;/g,"'")}var A=["explore your next","movies and tv shows"];var G=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),r=s[0],u=s[1],b=Object(c.useState)(""),m=Object(o.a)(b,2),O=m[0],v=m[1],x=Object(c.useState)(!0),h=Object(o.a)(x,2),p=h[0],g=h[1],N=Object(c.useCallback)((function(e){return alert("Downloading is not yet supported")}),[]);return Object(c.useEffect)((function(){R().then((function(e){a(e),u(e),g(!1)}))}),[]),Object(c.useEffect)((function(){if(n){var e=n.filter((function(e){return e.title.toLowerCase().includes(O.toLowerCase())}));u(e)}}),[O,n]),Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)(j,{}),Object(l.jsx)(d,{rows:A}),Object(l.jsxs)("div",{className:"app-content",children:[Object(l.jsx)(f,{callback:v}),Object(l.jsx)(P,{movies:r,loading:p,moviesPerPage:6,downloadMovie:N})]})]})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,108)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};s.a.render(Object(l.jsxs)(a.a.StrictMode,{children:[Object(l.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),Object(l.jsx)(G,{})]}),document.getElementById("root")),V()}},[[73,1,2]]]);
//# sourceMappingURL=main.59ca428d.chunk.js.map